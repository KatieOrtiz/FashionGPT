<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Define character set and viewport for better rendering on different devices -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="static/regstyles.css" />
    <script src="static/script.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css"
    />
    <title>Register</title>
    <style>
      .hidden {
        display: none;
      }
      .fade-in {
        animation: fadeIn 0.6s;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }
      /* Style for loading indicator */
      .loading {
        display: none;
        margin: 10px;
        text-align: center;
      }
      .loading i {
        font-size: 24px;
        animation: spin 1s infinite linear;
      }
      @keyframes spin {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }
      /* Style for disabled button */
      button:disabled {
          opacity: 0.5; /* Reduce opacity to visually indicate disabled state */
          cursor: not-allowed; /* Change cursor to indicate the button is not clickable */
      }
    </style>
  </head>
  <body>
    <div class="container">
      <form method="POST" action="/pref" class="container" id="registerForm">
        <main>
          <!-- Section 1: Basic Information -->
          <div class="verification" id="section1">
            <img src="https://cdn.glitch.global/70b98674-7945-4933-94d7-ed8029fb2905/section1.PNG?v=1714897702250" class="registerimages1"/>
            <h3>Basic Information</h3>
            <div class="measurement-select">
              <label for="gender">Gender:</label>
              <select id="gender" name="gender" required>
                <option value="male">Male</option>
                <option value="female">Female</option>
              </select>
            </div>
            <!-- Height select -->
            <div class="measurement-select">
              <label for="height">Height:</label>
              <select id="height" name="height" required>
                <option value="150cm">5'0"</option>
                <option value="152.5cm">5'1"</option>
                <option value="155cm">5'2"</option>
                <option value="157.5cm">5'3"</option>
                <option value="160cm">5'4"</option>
                <option value="162.5cm">5'5"</option>
                <option value="165cm">5'6"</option>
                <option value="167.5cm">5'7"</option>
                <option value="170cm">5'8"</option>
                <option value="172.5cm">5'9"</option>
                <option value="175cm">5'10"</option>
                <option value="177.5cm">5'11"</option>
                <option value="180cm">6'0"</option>
                <option value="182.5cm">6'1"</option>
                <option value="185cm">6'2"</option>
                <option value="187.5cm">6'3"</option>
                <option value="190cm">6'4"</option>
                <option value="192.5cm">6'5"</option>
              </select>
            </div>
            <!-- Weight select -->
            <div class="measurement-select">
              <label for="weight">Weight:</label>
              <select id="weight" name="weight" required>
                  <option value="lessthan100lbs"> less than 100 lbs</option>
                  <option value="100-105lbs">100-105 lbs</option>
                  <option value="105-110lbs">105-110 lbs</option>
                  <option value="110-115lbs">110-115 lbs</option>
                  <option value="115-120lbs">115-120 lbs</option>
                  <option value="120-125lbs">120-125 lbs</option>
                  <option value="125-130lbs">125-130 lbs</option>
                  <option value="130-135lbs">130-135 lbs</option>
                  <option value="135-140lbs">135-140 lbs</option>
                  <option value="140-145lbs">140-145 lbs</option>
                  <option value="145-150lbs">145-150 lbs</option>
                  <option value="150-155lbs">150-155 lbs</option>
                  <option value="155-160lbs">155-160 lbs</option>
                  <option value="160-165lbs">160-165 lbs</option>
                  <option value="165-170lbs">165-170 lbs</option>
                  <option value="170-175lbs">170-175 lbs</option>
                  <option value="175-180lbs">175-180 lbs</option>
                  <option value="180-185lbs">180-185 lbs</option>
                  <option value="185-190lbs">185-190 lbs</option>
                  <option value="190-195lbs">190-195 lbs</option>
                  <option value="195-200lbs">195-200 lbs</option>
                  <option value="210-220lbs">210-220 lbs</option>
                  <option value="220-230lbs">220-230 lbs</option>
                  <option value="230-240lbs">230-240 lbs</option>
                  <option value="240-250lbs">240-250 lbs</option>
                  <option value="250-260lbs">250-260 lbs</option>
                  <option value="260-270lbs">260-270 lbs</option>
                  <option value="270-280lbs">270-280 lbs</option>
                  <option value="280-290lbs">280-290 lbs</option>
                  <option value="290-300lbs">290-300 lbs</option>
                  <option value="greaterthan300lbs"> greater than 300 lbs</option>
              </select>
            </div>
            <div class="button-container">
              <button type="button" onclick="showSection(2)">Next</button>
            </div>
          </div>

          <!-- Section 2: Appearance -->

          <div class="verification hidden" id="section2">
            <span id="back2sec1"><i class="fa-solid fa-arrow-left"></i></span>
            <img src="https://cdn.glitch.global/70b98674-7945-4933-94d7-ed8029fb2905/section2.PNG?v=1714897706776" class="registerimages2">
            <h3>Appearance</h3>
            <div class="measurement-select">
              <label for="hair">Hair Color:</label>
              <select id="hair" name="hair" required>
                <option value="black">Black</option>
                <option value="brown">Brown</option>
                <option value="blonde">Blonde</option>
                <option value="red">Red</option>
                <option value="grey">Grey</option>
                <option value="other">Other</option>
              </select>
            </div>
            <div class="measurement-select">
              <label for="Skintone">Skin Tone:</label>
              <select id="Skintone" name="Skintone" required>
                <option value="light">Light</option>
                <option value="medium">Medium</option>
                <option value="dark">Dark</option>
              </select>
            </div>
            <div class="measurement-select">
              <label for="build">Build:</label>
              <select id="build" name="build" required>
                <option value="slim">Slim</option>
                <option value="average">Average</option>
                <option value="muscular">Muscular</option>
                <option value="heavy">Heavy</option>
              </select>
            </div>
            <div class="button-container">
              <button type="button" onclick="showSection(3)">Next</button>
            </div>
          </div>

          <!-- Section 3: Clothing Preferences -->
          <div class="verification hidden" id="section3">
            <span id="back2sec2"><i class="fa-solid fa-arrow-left"></i></span>
            <img src="https://cdn.glitch.global/70b98674-7945-4933-94d7-ed8029fb2905/section3.PNG?v=1714897710007" class="registerimages3">
            <h3>Clothing Preferences</h3>
            <div class="measurement-select">
              <label for="Style">Style:</label>
              <select id="Style" name="Style" required>
                <option value="casual">Casual</option>
                <option value="formal">Formal</option>
                <option value="sporty">Sporty</option>
                <option value="vintage">Vintage</option>
                <option value="-">Don't care</option>
              </select>
            </div>
            <div class="measurement-select">
              <label for="Season">Season:</label>
              <select id="Season" name="Season" required>
                <option value="spring">Spring</option>
                <option value="summer">Summer</option>
                <option value="fall">Fall</option>
                <option value="winter">Winter</option>
                <option value="-">Don't care</option>
              </select>
            </div>
            <div class="measurement-select">
              <label for="fabric">Fabric:</label>
              <select id="fabric" name="fabric" required>
                <option value="cotton">Cotton</option>
                <option value="polyester">Polyester</option>
                <option value="wool">Wool</option>
                <option value="linen">Linen</option>
                <option value="-">Don't care</option>
              </select>
            </div>
            <div class="button-container">
              <button type="button" onclick="showSection(4)">Next</button>
            </div>
          </div>

          <!-- Section 4: Additional Information -->
          <div class="verification hidden" id="section4">
            <span id="back2sec3"><i class="fa-solid fa-arrow-left"></i></span>
            <img src="https://cdn.glitch.global/70b98674-7945-4933-94d7-ed8029fb2905/section4.PNG?v=1714897716997" class="registerimages4">
            <h3>Additional Information</h3>
            <div class="measurement-select">
              <label for="waist">Waist:</label>
              <select id="waist" name="waist" required>
                <option value="under28">Under 28 in</option>
                <option value="28-32">28-32 in</option>
                <option value="33-37">33-37 in</option>
                <option value="38+">38+ in</option>
              </select>
            </div>
            <div class="measurement-select">
              <label for="length">Length:</label>
              <select id="length" name="length" required>
                <option value="short">Short</option>
                <option value="regular">Regular</option>
                <option value="long">Long</option>
                <option value="-">Don't know</option>
              </select>
            </div>
            <div class="measurement-select">
              <label for="Budget">Budget:</label>
              <select id="Budget" name="Budget" required>
                <option value="under$50">Low (Under $50)</option>
                <option value="$50-150">Medium ($50 - $150)</option>
                <option value="over$150">High (Over $150)</option>
                <option value="-">Don't have one</option>
              </select>
            </div>
            <div class="button-container">
              <button type="button" onclick="showSection(5)">Next</button>
            </div>
          </div>

          <!-- Section 5: Preferences -->
          <div class="verification hidden" id="section5">
            <span id="back2sec4"><i class="fa-solid fa-arrow-left"></i></span>
            <img src="https://cdn.glitch.global/70b98674-7945-4933-94d7-ed8029fb2905/section5.PNG?v=1714897721025" class="registerimages5">
            <h3>Preferences</h3>
            <div class="measurement-select">
              <label for="Colors">Favorite Colors:</label>
              <select id="Colors" name="Colors" multiple required>
                <option value="-">Don't care</option>
                <option value="black">Black</option>
                <option value="white">White</option>
                <option value="red">Red</option>
                <option value="blue">Blue</option>
                <option value="green">Green</option>
                <option value="yellow">Yellow</option>
                <option value="purple">Purple</option>
              </select>
            </div>
            <div class="measurement-select">
              <label for="usersRequest">Special Requests:</label>
              <textarea id="usersRequest" name="usersRequest"></textarea>
            </div>
            <div class="button-container">
                <!-- Loading indicator -->
              <div class="loading" id="loadingIndicator">
                <i class="fas fa-spinner fa-spin"></i> Generating Outfit Suggestions...  
              </div>
                <button id="submitButton" type="submit">Submit</button>
            </div>
          </div>
        </main>
      </form>
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", (event) => {
        // Function to hide all sections
        function hideAllSections() {
          const sections = document.querySelectorAll(".verification");
          sections.forEach((section) => {
            section.classList.add("hidden");
          });
        }

        // Initially hide all sections
        hideAllSections();

        // Show the first section by default
        const firstSection = document.getElementById("section1");
        if (firstSection) {
          firstSection.classList.remove("hidden");
        }

        // Function to show the next section
        window.showSection = function (sectionNumber) {
          hideAllSections();
          const nextSection = document.getElementById(
            `section${sectionNumber}`
          );
          if (nextSection) {
            nextSection.classList.remove("hidden");
            nextSection.classList.add("fade-in");
          }
        };
      });

      document.addEventListener("DOMContentLoaded", function() {
        // Add event listener for form submission
        document.getElementById("registerForm").addEventListener("submit", function(event) {
            // Prevent the default form submission behavior
            event.preventDefault();
    
            // Get submit button and loading indicator elements
            var submitButton = document.getElementById("submitButton");
            var loadingIndicator = document.getElementById("loadingIndicator");
    
            // Show loading indicator and disable the submit button
            if (loadingIndicator) {
                loadingIndicator.style.display = "block";
                submitButton.disabled = true;
                submitButton.classList.add("disabled"); // Add a class to style the button
            }
    
            // Submit the form
            this.submit();
        });
    });    
    
    </script>
  </body>
</html>
